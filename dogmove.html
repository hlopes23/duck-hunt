<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Doggy move</title>
    <link rel="stylesheet" href="doggystyle.css" />
  </head>
  <body>
    <div id="passeio">
      <div id="dog"></div>
    </div>
  </body>
  <script>
    let positionsAndSize = [
      { x: -5, y: -1, w: 55, h: 43 },
      { x: -66, y: -1, w: 55, h: 43 },
      { x: -126, y: -1, w: 55, h: 43 },
      { x: -184, y: -1, w: 55, h: 43 },
      { x: -245, y: -3, w: 55, h: 43 },
    ];
    const dog = document.getElementById("dog");
    const playground = document.getElementById("passeio");
    let interval;
    let frameIndex = 0;
    let positionX = 0;
    let positionY = 0;
    let width = 0;
    let height = 0;
    let playgroundWidth = playground.offsetWidth;
    let xTranslate = 0;

    function moveX() {
      interval = setInterval(() => {

        if (xTranslate >= playgroundWidth - dog.offsetWidth){
          clearInterval(interval);
        }

          if (frameIndex < positionsAndSize.length) {

            positionX = positionsAndSize[frameIndex].x;
            positionY = positionsAndSize[frameIndex].y;
            width = positionsAndSize[frameIndex].w;
            height = positionsAndSize[frameIndex].h;
            dog.style.backgroundPosition = `${positionX}px ${positionY}px`;
            dog.style.width = `${width}px`;
            dog.style.height = `${height}px`;
            xTranslate += 1;
            dog.style.transform = `translateX(${xTranslate}px)`;
            frameIndex = (frameIndex + 1) % positionsAndSize.length;
          
          } else {
            frameIndex = 0;
          }
      }, 45);
    }

    dog.addEventListener("dblclick", moveX);
    dog.addEventListener("click", () => {
      clearInterval(interval);
    });
  </script>
</html>
